<div data-section="TabWithProduct" class="tab-slider-product-section mb-80 home-two-wrapper" id="section-{{ section.id }}">
  <div class="container">
    <div class="row">
      {%- if section.settings.section_title != '' or section.settings.section_brief != '' -%}
      <div class="col-lg-12">
        {% assign text_alignment = section.settings.section_title_alignment %}
        <div class="section-title mb-45 mb-xs-40 {% if section.settings.section_title_border == true %} section-title-border {% endif %} {% if text_alignment == 'content_left' %}text-left 
                    {% elsif text_alignment == 'content_right' %}text-right {% else %}text-center{% endif %}">
          {%- if section.settings.section_title != '' -%}
          <h1>{{ section.settings.section_title }}</h1>
          {%- endif -%}

          {%- if section.settings.section_brief != '' -%}
          <p>{{ section.settings.section_brief }}</p>
          {%- endif -%}
        </div>
      </div>
      {%- endif -%}
      <div class="col-lg-12 col-md-12 mb-sm-20">
        {% assign tab_menu_align = section.settings.tab_menu_alignment %}
        <div class="tab-header-wrapper {% if tab_menu_align == 'content_left' %}text-left {% elsif tab_menu_align == 'content_right' %}text-right {% else %}text-center{% endif %}">
          <nav>
            <div class="nav nav-tabs" id="nav-tab2" role="tablist">

              {% for block in section.blocks %}
              {% assign tab_collection = collections[block.settings.tab_collection_handle] %}
              <a class="nav-item nav-link {% if forloop.first %}active{% endif %}" id="tab4-tab" data-toggle="tab" href="#block-{{ block.id }}-{{ tab_collection.title | handle }}" role="tab"
                 aria-selected="true">{{ tab_collection.title }}</a>
              {% endfor %}
            </div>
          </nav> 
        </div>
      </div>
    </div>
    {%- capture data_slick_activation -%}
      data-slick='{
    	   "rows": {{ section.settings.product_row }},
           "slidesToShow": {{ section.settings.product_column }},
            "responsive":[
                {"breakpoint":992, "settings": {"slidesToShow": {{ section.settings.product_column_md }}} },
                {"breakpoint":768, "settings": {"slidesToShow": {{ section.settings.product_column_sm }}} },
                {"breakpoint":480, "settings": {"slidesToShow": {{ section.settings.product_column_sm }}, "arrows": false} }
              ] 

      }'
      {%- endcapture -%}
    <div class="row">
      <div class="col-lg-12 col-md-12 mb-sm-30">
        <div class="tab-body-wrapper">
          <div class="tab-content" id="nav-tabContent2">
            {% for block in section.blocks %}
            {% assign tab_collection = collections[block.settings.tab_collection_handle] %}
            <div class="tab-pane fade {% if forloop.first %}show active{% endif %}" id="block-{{ block.id }}-{{ tab_collection.title | handle }}" role="tabpanel" aria-labelledby="tab4-tab">
                <div class="row tab-content-slider-container arrow-style-1 dots-style-1" {% if settings.rtl_enable %} rtl="true" {% endif %} {{ data_slick_activation }}>
                  {% assign product_limit = section.settings.product_limit %}
                  {% for product in tab_collection.products limit: product_limit %}
                  <div class="col">
                    {%- include 'product-grid-item' -%}
                  </div>
                  {% endfor %}
                </div>
            </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>

</div>


{%- style -%}
  #section-{{ section.id }} {
    {%- for block in section.blocks -%}
    {%- case block.type -%}
    {%- when 'section_margin' -%}
    margin-top: {{ block.settings.section_margin_top }}px;
    margin-bottom: {{ block.settings.section_margin_bottom }}px;
    {%- when 'section_padding' -%}
    padding-top: {{ block.settings.section_padding_top }}px;
    padding-bottom: {{ block.settings.section_padding_bottom }}px;
    {%- when 'section_background' -%}    
    background: {{ block.settings.section_bg_color }} 
      {%- if block.settings.section_bg_image -%}url("{{ block.settings.section_bg_image | img_url: 'master' }}"){%- endif -%} no-repeat scroll center center / cover;
    {%- endcase -%}
    {%- endfor -%}
  }
  @media (min-width: 768px) and (max-width: 991px) {
    #section-{{ section.id }}{
      {%- for block in section.blocks -%}
      {% case block.type %}
      {%- when 'section_margin' -%}
      margin-top: {{ block.settings.section_margin_top_md }}px;
      margin-bottom: {{ block.settings.section_margin_bottom_md }}px;
      {%- when 'section_padding' -%}
      padding-top: {{ block.settings.section_padding_top_md }}px;
      padding-bottom: {{ block.settings.section_padding_bottom_md }}px;
      {%- endcase -%}
      {%- endfor -%}
    }
  }
  @media (max-width: 767px) {
    #section-{{ section.id }}{
      {%- for block in section.blocks -%}
      {%- case block.type -%}
      {%- when 'section_margin' -%}
      margin-top: {{ block.settings.section_margin_top_xs }}px;
      margin-bottom: {{ block.settings.section_margin_bottom_xs }}px;
      {%- when 'section_padding' -%}
      padding-top: {{ block.settings.section_padding_top_xs }}px;
      padding-bottom: {{ block.settings.section_padding_bottom_xs }}px;
      {%- endcase -%}
      {%- endfor -%}
    }
  }

  #section-{{ section.id }} .section-title h1 {
      color: {{ section.settings.section_title_color }};
  }
  #section-{{ section.id }} .section-title p {
      color: {{ section.settings.section_brief_color }};
  }

{%- endstyle -%}



{% schema %}
  {
    "name": "Tab With Product",
    "settings": [
		{
			"type"		:	"text",
			"id"		:	"section_title",
			"label"		:	"Section Title",
			"default"	:	"Section Title"
		},
		{
			"type"		:	"textarea",
			"id"		:	"section_brief",
			"label"		:	"Section Title",
			"default"	:	"Some of our customers say that they trust us and buy our product without any hesitation because they believe us and always happy to buy our product."
		},
		{
			"type"		:	"checkbox",
			"id"		:	"section_title_border",
			"label"		:	"Section Title Border",
			"default"	:	true
		},
        {
        	"type"		: 	"radio",
        	"id"		:	"section_title_alignment",
        	"label"		: 	"Section Title Alignment",
        	"options"	:	[
              {
                  "label"		: "Left",
                  "value"		: "content_left"
              },
              {
                  "label"		: "Right",
                  "value"		: "content_right"
              },
              {
                  "label"		: "Center",
                  "value"		: "content_center"
              }
          	],
        	"default"	: 	"content_left"
        },
        {
          "type"		:	"header",
          "content"		:	"Section Title Style"
        },
		{
		  	"type"		: 	"color",
          	"id"		: 	"section_title_color",
          	"label"		: 	"Section Title Color"
        },
		{
		  	"type"		: 	"color",
          	"id"		: 	"section_brief_color",
          	"label"		: 	"Section Brief Color"
        },
        {
          "type"		:	"header",
          "content"		:	"Product Item Style",
		  "info"		: 	"Please Navigate: Customize > Theme settings > Product Options"
        },
        {
          "type"		:	"header",
          "content"		:	"Product Details Style",
		  "info"		: 	"Please Navigate: Customize > Product pages > Product"
        },
		{
			"type": "header",
            "content": "Tab Menu Alignment"
        },
        {
        	"type"		: 	"radio",
        	"id"		:	"tab_menu_alignment",
        	"label"		: 	"Content Alignment",
        	"options"	:	[
              {
                  "label"		: "Left",
                  "value"		: "content_left"
              },
              {
                  "label"		: "Right",
                  "value"		: "content_right"
              },
              {
                  "label"		: "Center",
                  "value"		: "content_center"
              }
          	],
        	"default"	: 	"content_left"
        },
		{
			"type": "header",
            "content": "Product"
        },
		{
            "type": "range",
            "id": "product_limit_handle",
            "min": 2,
            "max": 20,
            "step": 1,
            "label": "Limit",
            "default": 8
        },
        {
          "type"		:	"range",
          "id"			:	"product_row",
          "min"			:	1,
          "max"			:	5,
          "step"		:	1,
          "label"		:	"Product per column",
          "default"		:	1
        },
		{
			"type": "header",
            "content": "Product Column"
        },
		{
            "type": "range",
            "id": "product_column",
            "min": 1,
            "max": 12,
            "step": 1,
            "label": "Desktop",
            "default": 4
        },
		{
            "type": "range",
            "id": "product_column_md",
            "min": 1,
            "max": 12,
            "step": 1,
            "label": "Tablet",
            "default": 3
        },
		{
            "type": "range",
            "id": "product_column_sm",
            "min": 1,
            "max": 12,
            "step": 1,
            "label": "Mobile",
            "default": 2
        }
    ],
	"blocks":[
	   {
          "type": "tab_with_product",
          "name": "Tab with product",
          "settings": [
			{
			  "type": "collection",
			  "id": "tab_collection_handle",
			  "label": "Tab With Product"
			}
          ]
       },
	   {
          "type": "section_margin",
          "name": "Section Margin",
		  "limit": 1,
          "settings": [
            {
			  "type": "header",
			  "content": "Large/Desktop Device"
			},
			{
			  "type": "range",
			  "id": "section_margin_top",
			  "min": 0,
			  "max": 150,
			  "step": 5,
			  "label": "Margin Top",
			  "unit": "px",
			  "default": 0
			},
			{
			  "type": "range",
			  "id": "section_margin_bottom",
			  "min": 0,
			  "max": 150,
			  "step": 5,
			  "label": "Margin Bottom",
			  "unit": "px",
			  "default": 0
			},
			{
			  "type": "header",
			  "content": "Tablet Device"
			},
			{
			  "type": "range",
			  "id": "section_margin_top_md",
			  "min": 0,
			  "max": 150,
			  "step": 5,
			  "label": "Margin Top",
			  "unit": "px",
			  "default": 0
			},
			{
			  "type": "range",
			  "id": "section_margin_bottom_md",
			  "min": 0,
			  "max": 150,
			  "step": 5,
			  "label": "Margin Bottom",
			  "unit": "px",
			  "default": 0
			},
			{
			  "type": "header",
			  "content": "Mobile Device"
			},
			{
			  "type": "range",
			  "id": "section_margin_top_xs",
			  "min": 0,
			  "max": 150,
			  "step": 5,
			  "label": "Margin Top",
			  "unit": "px",
			  "default": 0
			},
			{
			  "type": "range",
			  "id": "section_margin_bottom_xs",
			  "min": 0,
			  "max": 150,
			  "step": 5,
			  "label": "Margin Bottom",
			  "unit": "px",
			  "default": 0
			}
          ]
       },
	   {
          "type": "section_padding",
          "name": "Section Padding",
		  "limit": 1,
          "settings": [
            {
			  "type": "header",
			  "content": "Large/Desktop Device"
			},
			{
			  "type": "range",
			  "id": "section_padding_top",
			  "min": 0,
			  "max": 150,
			  "step": 5,
			  "label": "Padding Top",
			  "unit": "px",
			  "default": 0
			},
			{
			  "type": "range",
			  "id": "section_padding_bottom",
			  "min": 0,
			  "max": 150,
			  "step": 5,
			  "label": "Padding Bottom",
			  "unit": "px",
			  "default": 100
			},
			{
			  "type": "header",
			  "content": "Tablet Device"
			},
			{
			  "type": "range",
			  "id": "section_padding_top_md",
			  "min": 0,
			  "max": 150,
			  "step": 5,
			  "label": "Padding Top",
			  "unit": "px",
			  "default": 0
			},
			{
			  "type": "range",
			  "id": "section_padding_bottom_md",
			  "min": 0,
			  "max": 150,
			  "step": 5,
			  "label": "Padding Bottom",
			  "unit": "px",
			  "default": 80
			},
			{
			  "type": "header",
			  "content": "Mobile Device"
			},
			{
			  "type": "range",
			  "id": "section_padding_top_xs",
			  "min": 0,
			  "max": 150,
			  "step": 5,
			  "label": "Padding Top",
			  "unit": "px",
			  "default": 0
			},
			{
			  "type": "range",
			  "id": "section_padding_bottom_xs",
			  "min": 0,
			  "max": 150,
			  "step": 5,
			  "label": "Padding Bottom",
			  "unit": "px",
			  "default": 60
			}
          ]
       },
	   {
          "type": "section_background",
          "name": "Section Background",
		  "limit": 1,
          "settings": [
            {
			  "type": "image_picker",
			  "id": "section_bg_image",
			  "label": "BG Image"
			},
			{
			  "type": "color",
			  "id": "section_bg_color",
			  "label": "BG Color",
			  "default": "#ffffff"
			}
          ]
       }
	],
	"presets": [
		{
		  "name": "Tab With Product",
		  "category": "2. collection",
		  "blocks":[
				{
					"type": "tab_with_product"
				},
				{
					"type": "tab_with_product"
				},
				{
					"type": "tab_with_product"
				}
			]
		}
	]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}